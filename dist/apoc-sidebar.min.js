var ApocSidebar=function(){'use strict';function a(a){return a&&a.__esModule?a['default']:a}function b(a,b){return b={exports:{}},a(b,b.exports),b.exports}var c=Math.min,d=b(function(a){var b=a.exports='undefined'!=typeof window&&window.Math==Math?window:'undefined'!=typeof self&&self.Math==Math?self:Function('return this')();'number'==typeof __g&&(__g=b)}),e=b(function(a){var b=a.exports={version:'2.4.0'};'number'==typeof __e&&(__e=b)}),g=function(a){if('function'!=typeof a)throw TypeError(a+' is not a function!');return a},h=function(a){return'object'==typeof a?null!==a:'function'==typeof a},i=function(a){try{return!!a()}catch(a){return!0}},j=!i(function(){return 7!=Object.defineProperty({},'a',{get:function(){return 7}}).a}),k=h,l=d.document,m=k(l)&&k(l.createElement),n=function(a){return m?l.createElement(a):{}},o=!j&&!i(function(){return 7!=Object.defineProperty(n('div'),'a',{get:function(){return 7}}).a}),p=h,q=function(a){if(!h(a))throw TypeError(a+' is not an object!');return a},r=function(a,b){if(!p(a))return a;var c,d;if(b&&'function'==typeof(c=a.toString)&&!p(d=c.call(a)))return d;if('function'==typeof(c=a.valueOf)&&!p(d=c.call(a)))return d;if(!b&&'function'==typeof(c=a.toString)&&!p(d=c.call(a)))return d;throw TypeError('Can\'t convert object to primitive value')},s=Object.defineProperty,t=j?Object.defineProperty:function(a,b,c){if(q(a),b=r(b,!0),q(c),o)try{return s(a,b,c)}catch(a){}if('get'in c||'set'in c)throw TypeError('Accessors not supported!');return'value'in c&&(a[b]=c.value),a},u={f:t},v=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}},w=j?function(a,b,c){return u.f(a,b,v(1,c))}:function(a,b,c){return a[b]=c,a},x=d,y=e,z=function(d,e,a){return(g(d),void 0===e)?d:1===a?function(b){return d.call(e,b)}:2===a?function(c,a){return d.call(e,c,a)}:3===a?function(f,a,b){return d.call(e,f,a,b)}:function(){return d.apply(e,arguments)}},A='prototype',B=function(a,b,c){var d,e,f,g=a&B.F,h=a&B.G,i=a&B.S,j=a&B.P,k=a&B.B,l=a&B.W,m=h?y:y[b]||(y[b]={}),n=m[A],o=h?x:i?x[b]:(x[b]||{})[A];for(d in h&&(c=b),c)e=!g&&o&&void 0!==o[d],e&&d in m||(f=e?o[d]:c[d],m[d]=h&&'function'!=typeof o[d]?c[d]:k&&e?z(f,x):l&&o[d]==f?function(d){var a=function(e,a,b){if(this instanceof d){switch(arguments.length){case 0:return new d;case 1:return new d(e);case 2:return new d(e,a);}return new d(e,a,b)}return d.apply(this,arguments)};return a[A]=d[A],a}(f):j&&'function'==typeof f?z(Function.call,f):f,j&&((m.virtual||(m.virtual={}))[d]=f,a&B.R&&n&&!n[d]&&w(n,d,f)))};B.F=1,B.G=2,B.S=4,B.P=8,B.B=16,B.W=32,B.U=64,B.R=128;var C=B,D=C;D(D.S+D.F*!j,'Object',{defineProperty:u.f});var E=e.Object,F=function(a,b,c){return E.defineProperty(a,b,c)},G=b(function(a){a.exports={default:F,__esModule:!0}}),H=b(function(a,b){b.__esModule=!0;var c=function(a){return a&&a.__esModule?a:{default:a}}(G);b.default=function(a,b,d){return b in a?(0,c.default)(a,b,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[b]=d,a}}),I=a(H),J={}.hasOwnProperty,K={}.toString,L=function(a){return K.call(a).slice(8,-1)},M=Object('z').propertyIsEnumerable(0)?Object:function(a){return'String'==L(a)?a.split(''):Object(a)},N=function(a){if(a==void 0)throw TypeError('Can\'t call method on  '+a);return a},P=function(a){return M(N(a))},O=Math.ceil,Q=Math.floor,R=function(a){return isNaN(a=+a)?0:(0<a?Q:O)(a)},S=Math.max,T=function(a){return 0<a?c(R(a),9007199254740991):0},U=function(a,b){return a=R(a),0>a?S(a+b,0):c(a,b)},V=d,W='__core-js_shared__',X=V[W]||(V[W]={}),Y=0,Z=Math.random(),$=function(a){return X[a]||(X[a]={})}('keys'),_=function(a){return'Symbol('.concat(a===void 0?'':a,')_',(++Y+Z).toString(36))},aa=function(a,b){return J.call(a,b)},ba=function(a){return function(b,c,d){var e,f=P(b),g=T(f.length),h=U(d,g);if(a&&c!=c){for(;g>h;)if(e=f[h++],e!=e)return!0;}else for(;g>h;h++)if((a||h in f)&&f[h]===c)return a||h||0;return!a&&-1}}(!1),ca=function(a){return $[a]||($[a]=_(a))}('IE_PROTO'),da=function(a,b){var c,d=P(a),e=0,f=[];for(c in d)c!=ca&&aa(d,c)&&f.push(c);for(;b.length>e;)aa(d,c=b[e++])&&(~ba(f,c)||f.push(c));return f},ea=['constructor','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','toLocaleString','toString','valueOf'],fa=Object.keys||function(a){return da(a,ea)},ga=Object.getOwnPropertySymbols,ha={}.propertyIsEnumerable,ia=fa,ja={f:ga},ka={f:ha},la=function(a){return Object(N(a))},ma=Object.assign,na=!ma||i(function(){var a={},b={},c=Symbol(),d='abcdefghijklmnopqrst';return a[c]=7,d.split('').forEach(function(a){b[a]=a}),7!=ma({},a)[c]||Object.keys(ma({},b)).join('')!=d})?function(a){for(var b=la(a),c=arguments.length,d=1,e=ja.f,f=ka.f;c>d;)for(var g,h=M(arguments[d++]),i=e?ia(h).concat(e(h)):ia(h),k=i.length,l=0;k>l;)f.call(h,g=i[l++])&&(b[g]=h[g]);return b}:ma,oa=C;oa(oa.S+oa.F,'Object',{assign:na});var pa=e.Object.assign,qa=b(function(a){a.exports={default:pa,__esModule:!0}}),ra=a(qa),sa=b(function(a,b){b.__esModule=!0;var c=function(a){return a&&a.__esModule?a:{default:a}}(qa);b.default=c.default||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a}}),ta=a(sa),ua=b(function(a,b){b.__esModule=!0,b.default=function(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}}),va=a(ua),wa=b(function(a,b){b.__esModule=!0;var c=function(a){return a&&a.__esModule?a:{default:a}}(G);b.default=function(){function a(a,b){for(var d,e=0;e<b.length;e++)d=b[e],d.enumerable=d.enumerable||!1,d.configurable=!0,'value'in d&&(d.writable=!0),(0,c.default)(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}()}),xa=a(wa),ya={type:'slide',side:'left',transitionTimingFunction:'cubic-bezier(0.455, 0.03, 0.515, 0.955)',transitionDuration:'.2s',wallBackgroundColor:'rgba(0,0,0,.3)'},za=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:ya;if(va(this,a),null===b)throw new Error('Required element');this.wall=null,this.el=b,this.opts=ra({},ya,c),this.handleTransitionendForWall=this.createTransitionendHandlerForWall.bind(this),this.handleTransitionendForSidebar=this.createTransitionendHandlerForSidebar.bind(this),this.handleTransitionendForOther=this.createTransitionendHandlerForOther.bind(this),this.handleClose=this.close.bind(this),this.opened=!1}return xa(a,[{key:'createTransitionendHandlerForWall',value:function(){ra(this.wall.style,{webkitBackfaceVisibility:'',backfaceVisibility:'',willChange:''})}},{key:'createTransitionendHandlerForOther',value:function(){'lid'===this.opts.type&&this.isOpen()&&ra(this.el.style,{zIndex:9999})}},{key:'createTransitionendHandlerForSidebar',value:function(){ra(this.el.style,{webkitBackfaceVisibility:'',backfaceVisibility:'',willChange:'',borderRadius:0,zIndex:9999})}},{key:'createWall',value:function(){this.wall=document.createElement('div'),ra(this.wall.style,ta({position:'fixed',top:0,left:0,width:'100%',height:'100%',backgroundColor:this.opts.wallBackgroundColor,opacity:0,zIndex:-9998},this.transitionDecls)),document.body.appendChild(this.wall),this.wall.addEventListener('click',this.handleClose),this.wall.addEventListener('transitionend',this.handleTransitionendForWall)}},{key:'init',value:function(){var a=this;this.createWall(),'push'===this.opts.type?(ra(document.body.style,{webkitTransition:'.2s',transition:'.2s'}),document.body.addEventListener('transitionend',this.handleTransitionendForOther)):'lid'===this.opts.type&&this.siblings.forEach(function(b){ra(b.style,a.transitionDecls),b.addEventListener('transitionend',a.handleTransitionendForOther)});var b=[this.el.style];b.push(I({display:'',height:'100%',position:'fixed',zIndex:this.initZIndex,top:this.initYPosition},this.opts.side,this.initXPosition)),'door'===this.opts.type?b.push(ta({webkitTransformOrigin:this.opts.side+' top',transformOrigin:this.opts.side+' top'},this.postdoor)):('waterfall'===this.opts.type||'waterfallReverse'===this.opts.type)&&b.push(this.postwaterfall),ra.apply(null,b),this.el.addEventListener('transitionend',this.handleTransitionendForSidebar),setTimeout(function(){ra(a.el.style,a.transitionDecls)},0)}},{key:'isOpen',value:function(){return this.opened}},{key:'isSlideType',value:function(){return /^(?:slide|water)$/.test(this.opts.type)}},{key:'isWaterType',value:function(){return'water'===this.opts.type}},{key:'isDoorType',value:function(){return'door'===this.opts.type}},{key:'isWaterfallType',value:function(){return'waterfall'===this.opts.type}},{key:'isWaterfallReverseType',value:function(){return'waterfallReverse'===this.opts.type}},{key:'open',value:function(){var a=this;ra(this.wall.style,{webkitBackfaceVisibility:'hidden',backfaceVisibility:'hidden',willChange:'opacity',zIndex:9998,opacity:1}),'push'===this.opts.type?ra(document.body.style,ta({},this.preslide)):'lid'===this.opts.type&&this.siblings.forEach(function(b){ra(b.style,ta({},a.preslide))}),ra(this.el.style,ta({webkitBackfaceVisibility:'hidden',backfaceVisibility:'hidden',willChange:'transform, border-radius'},this.isSlideType()?this.preslide:{},this.isWaterType()?this.prewater:{},this.isDoorType()?this.predoor:{},this.isWaterfallType()?this.prewaterfall:{},this.isWaterfallReverseType()?this.prewaterfallReverse:{})),this.opened=!0}},{key:'close',value:function(){var a=this;ra(this.wall.style,{webkitBackfaceVisibility:'hidden',backfaceVisibility:'hidden',willChange:'opacity',zIndex:-9998,opacity:0}),'push'===this.opts.type?ra(document.body.style,ta({},this.postslide)):'lid'===this.opts.type&&this.siblings.forEach(function(b){ra(b.style,ta({},a.postslide))}),ra(this.el.style,ta({webkitBackfaceVisibility:'hidden',backfaceVisibility:'hidden',willChange:'transform, border-radius',zIndex:this.initZIndex},this.isSlideType()?this.postslide:{},this.isWaterType()?this.postwater:{},this.isDoorType()?this.postdoor:{},this.isWaterfallType()?this.postwaterfall:{},this.isWaterfallReverseType()?this.postwaterfall:{})),this.opened=!1}},{key:'teardown',value:function(){var a=this;this.isOpen()&&this.close(),'push'===this.opts.type?document.body.removeEventListener('transitionend',this.handleTransitionendForOther):'lid'===this.opts.type&&this.siblings.forEach(function(b){b.removeEventListener('transitionend',a.handleTransitionendForOther)}),this.el.removeEventListener('transitionend',this.handleTransitionendForWall),this.el.removeEventListener('transitionend',this.handleTransitionendForSidebar)}},{key:'width',get:function(){return getComputedStyle(this.el).width}},{key:'initXPosition',get:function(){return /^(?:lid|door|waterfall|waterfallReverse)$/.test(this.opts.type)?0:'-'+this.width}},{key:'initYPosition',get:function(){return'waterfall'===this.opts.type?'-100%':'waterfallReverse'===this.opts.type?'100%':0}},{key:'initZIndex',get:function(){return'lid'===this.opts.type?-9999:''}},{key:'transitionDecls',get:function(){return{wabkitTransitionTimingFunction:this.opts.transitionTimingFunction,transitionTimingFunction:this.opts.transitionTimingFunction,webkitTransitionDuration:this.opts.transitionDuration,transitionDuration:this.opts.transitionDuration}}},{key:'preslide',get:function(){var a='left'===this.opts.side?this.width:'-'+this.width;return{webkitTransform:'translate3d('+a+', 0, 0)',transform:'translate3d('+a+', 0, 0)',zIndex:9999}}},{key:'postslide',get:function(){return{webkitTransform:'translate3d(0, 0, 0)',transform:'translate3d(0, 0, 0)'}}},{key:'prewater',get:function(){return'left'===this.opts.side?{borderTopRightRadius:'40% 80%',borderBottomRightRadius:'40% 80%'}:{borderTopLeftRadius:'40% 80%',borderBottomLeftRadius:'40% 80%'}}},{key:'postwater',get:function(){return'left'===this.opts.side?{borderTopRightRadius:'0 80%',borderBottomRightRadius:'0 80%'}:{borderTopLeftRadius:'0 80%',borderBottomLeftRadius:'0 80%'}}},{key:'predoor',get:function(){return{webkitTransform:'rotateY(0deg)',transform:'rotateY(0deg)'}}},{key:'postdoor',get:function(){return{webkitTransform:'rotateY(90deg)',transform:'rotateY(90deg)'}}},{key:'prewaterfall',get:function(){return{borderBottomLeftRadius:'80% 40%',borderBottomRightRadius:'80% 40%',webkitTransform:'translate3d(0, 100%, 0)',transform:'rotateY(0, 100%, 0)'}}},{key:'prewaterfallReverse',get:function(){return{borderTopLeftRadius:'80% 40%',borderTopRightRadius:'80% 40%',webkitTransform:'translate3d(0, -100%, 0)',transform:'rotateY(0, 100%, 0)'}}},{key:'postwaterfall',get:function(){return{webkitTransform:'translate3d(0, 0, 0)',transform:'rotateY(0, 0, 0)'}}},{key:'siblings',get:function(){var a=Array.prototype.slice.call(this.el.parentElement.children).filter(function(a){return null!==a.getAttribute('data-apoc-sidebar-sibling')});if(0===a.length)throw new Error('\nIn \'push\' or \'lid\' type,\nRequired [data-apoc-sidebar-sibling] attr to sibling elements');return a}}]),a}();return za}();
