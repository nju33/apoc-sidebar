var ApocSidebar=function(){'use strict';function d(ub){return ub&&ub.__esModule?ub['default']:ub}function g(ub,vb){return vb={exports:{}},ub(vb,vb.exports),vb.exports}var h=g(function(ub){var vb=ub.exports='undefined'!=typeof window&&window.Math==Math?window:'undefined'!=typeof self&&self.Math==Math?self:Function('return this')();'number'==typeof __g&&(__g=vb)}),l=g(function(ub){var vb=ub.exports={version:'2.4.0'};'number'==typeof __e&&(__e=vb)}),n=function(ub){if('function'!=typeof ub)throw TypeError(ub+' is not a function!');return ub},p=function(ub){return'object'==typeof ub?null!==ub:'function'==typeof ub},s=function(ub){try{return!!ub()}catch(vb){return!0}},t=!s(function(){return 7!=Object.defineProperty({},'a',{get:function(){return 7}}).a}),u=p,v=h.document,w=u(v)&&u(v.createElement),y=function(ub){return w?v.createElement(ub):{}},z=!t&&!s(function(){return 7!=Object.defineProperty(y('div'),'a',{get:function(){return 7}}).a}),D=p,G=function(ub){if(!p(ub))throw TypeError(ub+' is not an object!');return ub},I=function(ub,vb){if(!D(ub))return ub;var wb,xb;if(vb&&'function'==typeof(wb=ub.toString)&&!D(xb=wb.call(ub)))return xb;if('function'==typeof(wb=ub.valueOf)&&!D(xb=wb.call(ub)))return xb;if(!vb&&'function'==typeof(wb=ub.toString)&&!D(xb=wb.call(ub)))return xb;throw TypeError('Can\'t convert object to primitive value')},J=Object.defineProperty,L=t?Object.defineProperty:function(vb,wb,xb){if(G(vb),wb=I(wb,!0),G(xb),z)try{return J(vb,wb,xb)}catch(yb){}if('get'in xb||'set'in xb)throw TypeError('Accessors not supported!');return'value'in xb&&(vb[wb]=xb.value),vb},M={f:L},R=function(ub,vb){return{enumerable:!(1&ub),configurable:!(2&ub),writable:!(4&ub),value:vb}},U=t?function(ub,vb,wb){return M.f(ub,vb,R(1,wb))}:function(ub,vb,wb){return ub[vb]=wb,ub},V=h,W=l,X=function(ub,vb,wb){return(n(ub),void 0===vb)?ub:1===wb?function(xb){return ub.call(vb,xb)}:2===wb?function(xb,yb){return ub.call(vb,xb,yb)}:3===wb?function(xb,yb,zb){return ub.call(vb,xb,yb,zb)}:function(){return ub.apply(vb,arguments)}},Z='prototype',$=function(ub,vb,wb){var Gb,Hb,Ib,xb=ub&$.F,yb=ub&$.G,zb=ub&$.S,Ab=ub&$.P,Bb=ub&$.B,Cb=ub&$.W,Db=yb?W:W[vb]||(W[vb]={}),Eb=Db[Z],Fb=yb?V:zb?V[vb]:(V[vb]||{})[Z];for(Gb in yb&&(wb=vb),wb)Hb=!xb&&Fb&&void 0!==Fb[Gb],Hb&&Gb in Db||(Ib=Hb?Fb[Gb]:wb[Gb],Db[Gb]=yb&&'function'!=typeof Fb[Gb]?wb[Gb]:Bb&&Hb?X(Ib,V):Cb&&Fb[Gb]==Ib?function(Ob){var Pb=function(Qb,Rb,Sb){if(this instanceof Ob){switch(arguments.length){case 0:return new Ob;case 1:return new Ob(Qb);case 2:return new Ob(Qb,Rb);}return new Ob(Qb,Rb,Sb)}return Ob.apply(this,arguments)};return Pb[Z]=Ob[Z],Pb}(Ib):Ab&&'function'==typeof Ib?X(Function.call,Ib):Ib,Ab&&((Db.virtual||(Db.virtual={}))[Gb]=Ib,ub&$.R&&Eb&&!Eb[Gb]&&U(Eb,Gb,Ib)))};$.F=1,$.G=2,$.S=4,$.P=8,$.B=16,$.W=32,$.U=64,$.R=128;var _=$,aa=_;aa(aa.S+aa.F*!t,'Object',{defineProperty:M.f});var ba=l.Object,ca=function(vb,wb,xb){return ba.defineProperty(vb,wb,xb)},da=g(function(ub){ub.exports={'default':ca,__esModule:!0}}),ea=g(function(ub,vb){'use strict';vb.__esModule=!0;var yb=function(zb){return zb&&zb.__esModule?zb:{default:zb}}(da);vb.default=function(zb,Ab,Bb){return Ab in zb?(0,yb.default)(zb,Ab,{value:Bb,enumerable:!0,configurable:!0,writable:!0}):zb[Ab]=Bb,zb}}),fa=d(ea),ga={}.hasOwnProperty,ia={}.toString,ka=function(ub){return ia.call(ub).slice(8,-1)},la=Object('z').propertyIsEnumerable(0)?Object:function(ub){return'String'==ka(ub)?ub.split(''):Object(ub)},ma=function(ub){if(ub==void 0)throw TypeError('Can\'t call method on  '+ub);return ub},pa=function(ub){return la(ma(ub))},qa=Math.ceil,ra=Math.floor,sa=function(ub){return isNaN(ub=+ub)?0:(0<ub?ra:qa)(ub)},ua=Math.min,xa=Math.max,ya=Math.min,Ba=function(ub){return 0<ub?ua(sa(ub),9007199254740991):0},Ca=function(ub,vb){return ub=sa(ub),0>ub?xa(ub+vb,0):ya(ub,vb)},Ea=h,Fa='__core-js_shared__',Ga=Ea[Fa]||(Ea[Fa]={}),Ia=0,Ja=Math.random(),La=function(ub){return Ga[ub]||(Ga[ub]={})}('keys'),Ma=function(ub){return'Symbol('.concat(ub===void 0?'':ub,')_',(++Ia+Ja).toString(36))},Oa=function(ub,vb){return ga.call(ub,vb)},Qa=function(ub){return function(vb,wb,xb){var Bb,yb=pa(vb),zb=Ba(yb.length),Ab=Ca(xb,zb);if(ub&&wb!=wb){for(;zb>Ab;)if(Bb=yb[Ab++],Bb!=Bb)return!0;}else for(;zb>Ab;Ab++)if((ub||Ab in yb)&&yb[Ab]===wb)return ub||Ab||0;return!ub&&-1}}(!1),Ra=function(ub){return La[ub]||(La[ub]=Ma(ub))}('IE_PROTO'),Ta='constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'.split(','),Ua=function(ub,vb){var zb,wb=pa(ub),xb=0,yb=[];for(zb in wb)zb!=Ra&&Oa(wb,zb)&&yb.push(zb);for(;vb.length>xb;)Oa(wb,zb=vb[xb++])&&(~Qa(yb,zb)||yb.push(zb));return yb},Wa=Object.keys||function(vb){return Ua(vb,Ta)},Xa=Object.getOwnPropertySymbols,Za={}.propertyIsEnumerable,bb=Wa,cb={f:Xa},db={f:Za},eb=function(ub){return Object(ma(ub))},gb=Object.assign,hb=!gb||s(function(){var ub={},vb={},wb=Symbol(),xb='abcdefghijklmnopqrst';return ub[wb]=7,xb.split('').forEach(function(yb){vb[yb]=yb}),7!=gb({},ub)[wb]||Object.keys(gb({},vb)).join('')!=xb})?function(vb){for(var xb=eb(vb),yb=arguments.length,zb=1,Ab=cb.f,Bb=db.f;yb>zb;)for(var Gb,Cb=la(arguments[zb++]),Db=Ab?bb(Cb).concat(Ab(Cb)):bb(Cb),Eb=Db.length,Fb=0;Eb>Fb;)Bb.call(Cb,Gb=Db[Fb++])&&(xb[Gb]=Cb[Gb]);return xb}:gb,ib=_;ib(ib.S+ib.F,'Object',{assign:hb});var jb=l.Object.assign,kb=g(function(ub){ub.exports={'default':jb,__esModule:!0}}),lb=d(kb),mb=g(function(ub,vb){'use strict';vb.__esModule=!0;var yb=function(zb){return zb&&zb.__esModule?zb:{default:zb}}(kb);vb.default=yb.default||function(zb){for(var Bb,Ab=1;Ab<arguments.length;Ab++)for(var Cb in Bb=arguments[Ab],Bb)Object.prototype.hasOwnProperty.call(Bb,Cb)&&(zb[Cb]=Bb[Cb]);return zb}}),nb=d(mb),ob=g(function(ub,vb){'use strict';vb.__esModule=!0,vb.default=function(wb,xb){if(!(wb instanceof xb))throw new TypeError('Cannot call a class as a function')}}),pb=d(ob),qb=g(function(ub,vb){'use strict';vb.__esModule=!0;var yb=function(zb){return zb&&zb.__esModule?zb:{default:zb}}(da);vb.default=function(){function zb(Ab,Bb){for(var Db,Cb=0;Cb<Bb.length;Cb++)Db=Bb[Cb],Db.enumerable=Db.enumerable||!1,Db.configurable=!0,'value'in Db&&(Db.writable=!0),(0,yb.default)(Ab,Db.key,Db)}return function(Ab,Bb,Cb){return Bb&&zb(Ab.prototype,Bb),Cb&&zb(Ab,Cb),Ab}}()}),rb=d(qb),sb={type:'slide',side:'left',transitionTimingFunction:'cubic-bezier(0.455, 0.03, 0.515, 0.955)',transitionDuration:'.2s',wallBackgroundColor:'rgba(0,0,0,.3)'},tb=function(){function ub(){var vb=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,wb=1<arguments.length&&void 0!==arguments[1]?arguments[1]:sb;if(pb(this,ub),null===vb)throw new Error('Required element');this.wall=null,this.el=vb,this.opts=lb({},sb,wb),this.handleTransitionendForWall=this.createTransitionendHandlerForWall.bind(this),this.handleTransitionendForSidebar=this.createTransitionendHandlerForSidebar.bind(this),this.handleTransitionendForOther=this.createTransitionendHandlerForOther.bind(this),this.handleClose=this.close.bind(this),this.opened=!1}return rb(ub,[{key:'createTransitionendHandlerForWall',value:function(){lb(this.wall.style,{webkitBackfaceVisibility:'',backfaceVisibility:'',willChange:''})}},{key:'createTransitionendHandlerForOther',value:function(){'lid'===this.opts.type&&this.isOpen()&&lb(this.el.style,{zIndex:9999})}},{key:'createTransitionendHandlerForSidebar',value:function(){lb(this.el.style,{webkitBackfaceVisibility:'',backfaceVisibility:'',willChange:'',borderRadius:0,zIndex:9999})}},{key:'createWall',value:function(){this.wall=document.createElement('div'),lb(this.wall.style,nb({position:'fixed',top:0,left:0,width:'100%',height:'100%',backgroundColor:this.opts.wallBackgroundColor,opacity:0,zIndex:-9998},this.transitionDecls)),document.body.appendChild(this.wall),this.wall.addEventListener('click',this.handleClose),this.wall.addEventListener('transitionend',this.handleTransitionendForWall)}},{key:'init',value:function(){var wb=this;this.createWall(),'push'===this.opts.type?(lb(document.body.style,{webkitTransition:'.2s',transition:'.2s'}),document.body.addEventListener('transitionend',this.handleTransitionendForOther)):'lid'===this.opts.type&&this.siblings.forEach(function(yb){lb(yb.style,wb.transitionDecls),yb.addEventListener('transitionend',wb.handleTransitionendForOther)});var xb=[this.el.style];xb.push(fa({display:'',height:'100%',position:'fixed',zIndex:this.initZIndex,top:this.initYPosition},this.opts.side,this.initXPosition)),'door'===this.opts.type?xb.push(nb({webkitTransformOrigin:this.opts.side+' top',transformOrigin:this.opts.side+' top'},this.postdoor)):('waterfall'===this.opts.type||'waterfallReverse'===this.opts.type)&&xb.push(this.postwaterfall),lb.apply(null,xb),this.el.addEventListener('transitionend',this.handleTransitionendForSidebar),setTimeout(function(){lb(wb.el.style,wb.transitionDecls)},0)}},{key:'isOpen',value:function(){return this.opened}},{key:'isSlideType',value:function(){return /^(?:slide|water)$/.test(this.opts.type)}},{key:'isWaterType',value:function(){return'water'===this.opts.type}},{key:'isDoorType',value:function(){return'door'===this.opts.type}},{key:'isWaterfallType',value:function(){return'waterfall'===this.opts.type}},{key:'isWaterfallReverseType',value:function(){return'waterfallReverse'===this.opts.type}},{key:'open',value:function(){var wb=this;lb(this.wall.style,{webkitBackfaceVisibility:'hidden',backfaceVisibility:'hidden',willChange:'opacity',zIndex:9998,opacity:1}),'push'===this.opts.type?lb(document.body.style,nb({},this.preslide)):'lid'===this.opts.type&&this.siblings.forEach(function(xb){lb(xb.style,nb({},wb.preslide))}),lb(this.el.style,nb({webkitBackfaceVisibility:'hidden',backfaceVisibility:'hidden',willChange:'transform, border-radius'},this.isSlideType()?this.preslide:{},this.isWaterType()?this.prewater:{},this.isDoorType()?this.predoor:{},this.isWaterfallType()?this.prewaterfall:{},this.isWaterfallReverseType()?this.prewaterfallReverse:{})),this.opened=!0}},{key:'close',value:function(){var wb=this;lb(this.wall.style,{webkitBackfaceVisibility:'hidden',backfaceVisibility:'hidden',willChange:'opacity',zIndex:-9998,opacity:0}),'push'===this.opts.type?lb(document.body.style,nb({},this.postslide)):'lid'===this.opts.type&&this.siblings.forEach(function(xb){lb(xb.style,nb({},wb.postslide))}),lb(this.el.style,nb({webkitBackfaceVisibility:'hidden',backfaceVisibility:'hidden',willChange:'transform, border-radius',zIndex:this.initZIndex},this.isSlideType()?this.postslide:{},this.isWaterType()?this.postwater:{},this.isDoorType()?this.postdoor:{},this.isWaterfallType()?this.postwaterfall:{},this.isWaterfallReverseType()?this.postwaterfall:{})),this.opened=!1}},{key:'teardown',value:function(){var wb=this;this.isOpen()&&this.close(),'push'===this.opts.type?document.body.removeEventListener('transitionend',this.handleTransitionendForOther):'lid'===this.opts.type&&this.siblings.forEach(function(xb){xb.removeEventListener('transitionend',wb.handleTransitionendForOther)}),this.el.removeEventListener('transitionend',this.handleTransitionendForWall),this.el.removeEventListener('transitionend',this.handleTransitionendForSidebar)}},{key:'width',get:function(){return getComputedStyle(this.el).width}},{key:'initXPosition',get:function(){return /^(?:lid|door|waterfall|waterfallReverse)$/.test(this.opts.type)?0:'-'+this.width}},{key:'initYPosition',get:function(){return'waterfall'===this.opts.type?'-100%':'waterfallReverse'===this.opts.type?'100%':0}},{key:'initZIndex',get:function(){return'lid'===this.opts.type?-9999:''}},{key:'transitionDecls',get:function(){return{wabkitTransitionTimingFunction:this.opts.transitionTimingFunction,transitionTimingFunction:this.opts.transitionTimingFunction,webkitTransitionDuration:this.opts.transitionDuration,transitionDuration:this.opts.transitionDuration}}},{key:'preslide',get:function(){var wb='left'===this.opts.side?this.width:'-'+this.width;return{webkitTransform:'translate3d('+wb+', 0, 0)',transform:'translate3d('+wb+', 0, 0)',zIndex:9999}}},{key:'postslide',get:function(){return{webkitTransform:'translate3d(0, 0, 0)',transform:'translate3d(0, 0, 0)'}}},{key:'prewater',get:function(){return'left'===this.opts.side?{borderTopRightRadius:'40% 80%',borderBottomRightRadius:'40% 80%'}:{borderTopLeftRadius:'40% 80%',borderBottomLeftRadius:'40% 80%'}}},{key:'postwater',get:function(){return'left'===this.opts.side?{borderTopRightRadius:'0 80%',borderBottomRightRadius:'0 80%'}:{borderTopLeftRadius:'0 80%',borderBottomLeftRadius:'0 80%'}}},{key:'predoor',get:function(){return{webkitTransform:'rotateY(0deg)',transform:'rotateY(0deg)'}}},{key:'postdoor',get:function(){return{webkitTransform:'rotateY(90deg)',transform:'rotateY(90deg)'}}},{key:'prewaterfall',get:function(){return{borderBottomLeftRadius:'80% 40%',borderBottomRightRadius:'80% 40%',webkitTransform:'translate3d(0, 100%, 0)',transform:'rotateY(0, 100%, 0)'}}},{key:'prewaterfallReverse',get:function(){return{borderTopLeftRadius:'80% 40%',borderTopRightRadius:'80% 40%',webkitTransform:'translate3d(0, -100%, 0)',transform:'rotateY(0, 100%, 0)'}}},{key:'postwaterfall',get:function(){return{webkitTransform:'translate3d(0, 0, 0)',transform:'rotateY(0, 0, 0)'}}},{key:'siblings',get:function(){var wb=Array.prototype.slice.call(this.el.parentElement.children).filter(function(xb){return null!==xb.getAttribute('data-apoc-sidebar-sibling')});if(0===wb.length)throw new Error('\nIn \'push\' or \'lid\' type,\nRequired [data-apoc-sidebar-sibling] attr to sibling elements');return wb}}]),ub}();return tb}();
