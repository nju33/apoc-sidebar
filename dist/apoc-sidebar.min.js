var ApocSidebar=function(){'use strict';function a(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,'default')?a['default']:a}function b(a,b){return b={exports:{}},a(b,b.exports),b.exports}var c=Math.min,d=b(function(a){var b=a.exports='undefined'!=typeof window&&window.Math==Math?window:'undefined'!=typeof self&&self.Math==Math?self:Function('return this')();'number'==typeof __g&&(__g=b)}),e=b(function(a){var b=a.exports={version:'2.5.1'};'number'==typeof __e&&(__e=b)}),g=e.version,h=function(a){if('function'!=typeof a)throw TypeError(a+' is not a function!');return a},i=function(d,e,a){return(h(d),void 0===e)?d:1===a?function(b){return d.call(e,b)}:2===a?function(c,a){return d.call(e,c,a)}:3===a?function(f,a,b){return d.call(e,f,a,b)}:function(){return d.apply(e,arguments)}},j=function(a){return'object'==typeof a?null!==a:'function'==typeof a},k=function(a){if(!j(a))throw TypeError(a+' is not an object!');return a},l=function(a){try{return!!a()}catch(a){return!0}},m=!l(function(){return 7!=Object.defineProperty({},'a',{get:function(){return 7}}).a}),n=d.document,o=j(n)&&j(n.createElement),p=function(a){return o?n.createElement(a):{}},q=!m&&!l(function(){return 7!=Object.defineProperty(p('div'),'a',{get:function(){return 7}}).a}),r=function(a,b){if(!j(a))return a;var c,d;if(b&&'function'==typeof(c=a.toString)&&!j(d=c.call(a)))return d;if('function'==typeof(c=a.valueOf)&&!j(d=c.call(a)))return d;if(!b&&'function'==typeof(c=a.toString)&&!j(d=c.call(a)))return d;throw TypeError('Can\'t convert object to primitive value')},s=Object.defineProperty,t=m?Object.defineProperty:function(a,b,c){if(k(a),b=r(b,!0),k(c),q)try{return s(a,b,c)}catch(a){}if('get'in c||'set'in c)throw TypeError('Accessors not supported!');return'value'in c&&(a[b]=c.value),a},u={f:t},v=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}},w=m?function(a,b,c){return u.f(a,b,v(1,c))}:function(a,b,c){return a[b]=c,a},x='prototype',y=function(a,b,c){var f,g,h,j=a&y.F,k=a&y.G,l=a&y.S,m=a&y.P,n=a&y.B,o=a&y.W,p=k?e:e[b]||(e[b]={}),q=p[x],r=k?d:l?d[b]:(d[b]||{})[x];for(f in k&&(c=b),c)g=!j&&r&&void 0!==r[f],g&&f in p||(h=g?r[f]:c[f],p[f]=k&&'function'!=typeof r[f]?c[f]:n&&g?i(h,d):o&&r[f]==h?function(d){var a=function(e,a,b){if(this instanceof d){switch(arguments.length){case 0:return new d;case 1:return new d(e);case 2:return new d(e,a);}return new d(e,a,b)}return d.apply(this,arguments)};return a[x]=d[x],a}(h):m&&'function'==typeof h?i(Function.call,h):h,m&&((p.virtual||(p.virtual={}))[f]=h,a&y.R&&q&&!q[f]&&w(q,f,h)))};y.F=1,y.G=2,y.S=4,y.P=8,y.B=16,y.W=32,y.U=64,y.R=128;var z=y;z(z.S+z.F*!m,'Object',{defineProperty:u.f});var A=e.Object,B=function(a,b,c){return A.defineProperty(a,b,c)},C=b(function(a){a.exports={default:B,__esModule:!0}});a(C);var D=b(function(a,b){b.__esModule=!0;var c=function(a){return a&&a.__esModule?a:{default:a}}(C);b.default=function(a,b,d){return b in a?(0,c.default)(a,b,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[b]=d,a}}),E=a(D),F={}.hasOwnProperty,G=function(a,b){return F.call(a,b)},H={}.toString,I=function(a){return H.call(a).slice(8,-1)},J=Object('z').propertyIsEnumerable(0)?Object:function(a){return'String'==I(a)?a.split(''):Object(a)},K=function(a){if(a==void 0)throw TypeError('Can\'t call method on  '+a);return a},L=function(a){return J(K(a))},M=Math.ceil,N=Math.floor,O=function(a){return isNaN(a=+a)?0:(0<a?N:M)(a)},P=function(a){return 0<a?c(O(a),9007199254740991):0},Q=Math.max,R=function(a,b){return a=O(a),0>a?Q(a+b,0):c(a,b)},S='__core-js_shared__',T=d[S]||(d[S]={}),U=0,V=Math.random(),W=function(a){return'Symbol('.concat(a===void 0?'':a,')_',(++U+V).toString(36))},X=function(a){return T[a]||(T[a]={})}('keys'),Y=function(a){return function(b,c,d){var e,f=L(b),g=P(f.length),h=R(d,g);if(a&&c!=c){for(;g>h;)if(e=f[h++],e!=e)return!0;}else for(;g>h;h++)if((a||h in f)&&f[h]===c)return a||h||0;return!a&&-1}}(!1),Z=function(a){return X[a]||(X[a]=W(a))}('IE_PROTO'),$=function(a,b){var c,d=L(a),e=0,f=[];for(c in d)c!=Z&&G(d,c)&&f.push(c);for(;b.length>e;)G(d,c=b[e++])&&(~Y(f,c)||f.push(c));return f},_=['constructor','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','toLocaleString','toString','valueOf'],aa=Object.keys||function(a){return $(a,_)},ba=Object.getOwnPropertySymbols,ca={f:ba},da={}.propertyIsEnumerable,ea={f:da},fa=function(a){return Object(K(a))},ga=Object.assign,ha=!ga||l(function(){var a={},b={},c=Symbol(),d='abcdefghijklmnopqrst';return a[c]=7,d.split('').forEach(function(a){b[a]=a}),7!=ga({},a)[c]||Object.keys(ga({},b)).join('')!=d})?function(a){for(var b=fa(a),c=arguments.length,d=1,e=ca.f,f=ea.f;c>d;)for(var g,h=J(arguments[d++]),i=e?aa(h).concat(e(h)):aa(h),k=i.length,l=0;k>l;)f.call(h,g=i[l++])&&(b[g]=h[g]);return b}:ga;z(z.S+z.F,'Object',{assign:ha});var ia=e.Object.assign,ja=b(function(a){a.exports={default:ia,__esModule:!0}}),ka=a(ja),la=b(function(a,b){b.__esModule=!0;var c=function(a){return a&&a.__esModule?a:{default:a}}(ja);b.default=c.default||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a}}),ma=a(la),na=b(function(a,b){b.__esModule=!0,b.default=function(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}}),oa=a(na),pa=b(function(a,b){b.__esModule=!0;var c=function(a){return a&&a.__esModule?a:{default:a}}(C);b.default=function(){function a(a,b){for(var d,e=0;e<b.length;e++)d=b[e],d.enumerable=d.enumerable||!1,d.configurable=!0,'value'in d&&(d.writable=!0),(0,c.default)(a,d.key,d)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}()}),qa=a(pa),ra={type:'slide',side:'left',transitionTimingFunction:'cubic-bezier(0.455, 0.03, 0.515, 0.955)',transitionDuration:'.2s',wallBackgroundColor:'rgba(0,0,0,.3)'},sa=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:ra;if(oa(this,a),null===b)throw new Error('Required element');this.wall=null,this.el=b,this.opts=ka({},ra,c),'undefined'==typeof this.opts.container&&(this.opts.container=b.parentElement),this.handleTransitionendForWall=this.createTransitionendHandlerForWall.bind(this),this.handleTransitionendForSidebar=this.createTransitionendHandlerForSidebar.bind(this),this.handleTransitionendForOther=this.createTransitionendHandlerForOther.bind(this),this.handleClose=this.close.bind(this),this.inited=!1,this.opened=!1,this.defaultStyle={}}return qa(a,[{key:'createTransitionendHandlerForWall',value:function(){ka(this.wall.style,{webkitBackfaceVisibility:'',backfaceVisibility:'',willChange:''})}},{key:'createTransitionendHandlerForOther',value:function(){'lid'===this.opts.type&&this.isOpen()&&ka(this.el.style,{zIndex:9999})}},{key:'createTransitionendHandlerForSidebar',value:function(){this.isOpen()?ka(this.el.style,{webkitBackfaceVisibility:'',backfaceVisibility:'',willChange:'',borderRadius:0,zIndex:9999}):ka(this.el.style,{webkitBackfaceVisibility:'',backfaceVisibility:'',willChange:'',borderRadius:0,zIndex:-9999})}},{key:'createWall',value:function(){this.wall=document.createElement('div'),ka(this.wall.style,ma({position:'fixed',top:0,left:0,width:'100%',height:'100%',backgroundColor:this.opts.wallBackgroundColor,opacity:0,zIndex:-9998},this.transitionDecls)),this.wall.className='apoc-sidebar-wall',document.body.appendChild(this.wall),this.wall.addEventListener('click',this.handleClose),this.wall.addEventListener('transitionend',this.handleTransitionendForWall)}},{key:'init',value:function(a){var b=this;if('undefined'==typeof a&&(a='none'!==this.el.style.display),!this.inited){this.inited=!0,this.createWall(),this.defaultStyle=ka({},this.el.style),'push'===this.opts.type?(ka(document.body.style,{webkitTransition:'.2s',transition:'.2s'}),document.body.addEventListener('transitionend',this.handleTransitionendForOther)):'lid'===this.opts.type&&this.siblings.forEach(function(a){ka(a.style,b.transitionDecls)});var c=[this.el.style];c.push(E({display:'',height:'100%',position:'fixed',zIndex:this.initZIndex,top:this.initYPosition},this.opts.side,this.initXPosition)),'door'===this.opts.type?c.push(ma({webkitTransformOrigin:this.opts.side+' top',transformOrigin:this.opts.side+' top'},this.postdoor)):('waterfall'===this.opts.type||'waterfallReverse'===this.opts.type)&&c.push(this.postwaterfall),ka.apply(null,c),a&&this.open(),this.el.addEventListener('transitionend',this.handleTransitionendForSidebar),setTimeout(function(){ka(b.el.style,b.transitionDecls)},0)}}},{key:'isOpen',value:function(){return this.opened}},{key:'isSlideType',value:function(){return /^(?:slide|water)$/.test(this.opts.type)}},{key:'isWaterType',value:function(){return'water'===this.opts.type}},{key:'isDoorType',value:function(){return'door'===this.opts.type}},{key:'isWaterfallType',value:function(){return'waterfall'===this.opts.type}},{key:'isWaterfallReverseType',value:function(){return'waterfallReverse'===this.opts.type}},{key:'open',value:function(){var a=this;this.opened||(this.opened=!0,ka(this.wall.style,{webkitBackfaceVisibility:'hidden',backfaceVisibility:'hidden',willChange:'opacity',zIndex:9998,opacity:1}),'push'===this.opts.type?ka(document.body.style,ma({},this.preslide)):'lid'===this.opts.type&&this.siblings.forEach(function(b){ka(b.style,ma({},a.preslide))}),ka(this.el.style,ma({width:this.defaultStyle.width,webkitBackfaceVisibility:'hidden',backfaceVisibility:'hidden',willChange:'transform, border-radius'},this.isSlideType()?this.preslide:{},this.isWaterType()?this.prewater:{},this.isDoorType()?this.predoor:{},this.isWaterfallType()?this.prewaterfall:{},this.isWaterfallReverseType()?this.prewaterfallReverse:{},{zIndex:9999})))}},{key:'close',value:function(){var a=this;this.opened&&(this.opened=!1,ka(this.wall.style,{webkitBackfaceVisibility:'hidden',backfaceVisibility:'hidden',willChange:'opacity',zIndex:-9998,opacity:0}),'push'===this.opts.type?ka(document.body.style,ma({},this.postslide)):'lid'===this.opts.type&&this.siblings.forEach(function(b){ka(b.style,ma({},a.postslide))}),ka(this.el.style,ma({webkitBackfaceVisibility:'hidden',backfaceVisibility:'hidden',willChange:'transform, border-radius',zIndex:this.initZIndex},this.isSlideType()?this.postslide:{},this.isWaterType()?this.postwater:{},this.isDoorType()?this.postdoor:{},this.isWaterfallType()?this.postwaterfall:{},this.isWaterfallReverseType()?this.postwaterfall:{})),this.opened=!1)}},{key:'teardown',value:function(){var a=this;this.isOpen()&&this.close(),this.inited&&(this.inited=!1,'push'===this.opts.type?document.body.removeEventListener('transitionend',this.handleTransitionendForOther):'lid'===this.opts.type&&this.siblings.forEach(function(b){b.removeEventListener('transitionend',a.handleTransitionendForOther)}),this.el.removeEventListener('transitionend',this.handleTransitionendForWall),this.el.removeEventListener('transitionend',this.handleTransitionendForSidebar),document.body.removeChild(this.wall),this.el.style=this.defaultStyle)}},{key:'width',get:function(){return getComputedStyle(this.el).width}},{key:'initXPosition',get:function(){return /^(?:lid|door|waterfall|waterfallReverse)$/.test(this.opts.type)?0:'-'+this.width}},{key:'initYPosition',get:function(){return'waterfall'===this.opts.type?'-100%':'waterfallReverse'===this.opts.type?'100%':0}},{key:'initZIndex',get:function(){return'lid'===this.opts.type?-9999:''}},{key:'transitionDecls',get:function(){return{wabkitTransitionTimingFunction:this.opts.transitionTimingFunction,transitionTimingFunction:this.opts.transitionTimingFunction,webkitTransitionDuration:this.opts.transitionDuration,transitionDuration:this.opts.transitionDuration}}},{key:'preslide',get:function(){var a='left'===this.opts.side?this.width:'-'+this.width;return{webkitTransform:'translate3d('+a+', 0, 0)',transform:'translate3d('+a+', 0, 0)',zIndex:9997}}},{key:'postslide',get:function(){return{webkitTransform:'translate3d(0, 0, 0)',transform:'translate3d(0, 0, 0)'}}},{key:'prewater',get:function(){return'left'===this.opts.side?{borderTopRightRadius:'40% 80%',borderBottomRightRadius:'40% 80%'}:{borderTopLeftRadius:'40% 80%',borderBottomLeftRadius:'40% 80%'}}},{key:'postwater',get:function(){return'left'===this.opts.side?{borderTopRightRadius:'0 80%',borderBottomRightRadius:'0 80%'}:{borderTopLeftRadius:'0 80%',borderBottomLeftRadius:'0 80%'}}},{key:'predoor',get:function(){return{webkitTransform:'rotateY(0deg)',transform:'rotateY(0deg)'}}},{key:'postdoor',get:function(){return{webkitTransform:'rotateY(90deg)',transform:'rotateY(90deg)'}}},{key:'prewaterfall',get:function(){return{borderBottomLeftRadius:'80% 40%',borderBottomRightRadius:'80% 40%',webkitTransform:'translate3d(0, 100%, 0)',transform:'rotateY(0, 100%, 0)'}}},{key:'prewaterfallReverse',get:function(){return{borderTopLeftRadius:'80% 40%',borderTopRightRadius:'80% 40%',webkitTransform:'translate3d(0, -100%, 0)',transform:'rotateY(0, 100%, 0)'}}},{key:'postwaterfall',get:function(){return{webkitTransform:'translate3d(0, 0, 0)',transform:'rotateY(0, 0, 0)'}}},{key:'siblings',get:function(){var a=Array.prototype.slice.call(this.opts.container.children).filter(function(a){return null!==a.getAttribute('data-apoc-sidebar-sibling')});if(0===a.length)throw new Error('\nIn \'push\' or \'lid\' type,\nRequired [data-apoc-sidebar-sibling] attr to sibling elements');return a}}]),a}();return sa}();
