var ApocSidebar=function(){'use strict';function d(vb){return vb&&vb.__esModule?vb['default']:vb}function g(vb,wb){return wb={exports:{}},vb(wb,wb.exports),wb.exports}var h=g(function(vb){var wb=vb.exports='undefined'!=typeof window&&window.Math==Math?window:'undefined'!=typeof self&&self.Math==Math?self:Function('return this')();'number'==typeof __g&&(__g=wb)}),l=g(function(vb){var wb=vb.exports={version:'2.4.0'};'number'==typeof __e&&(__e=wb)}),n=function(vb){if('function'!=typeof vb)throw TypeError(vb+' is not a function!');return vb},p=function(vb){return'object'==typeof vb?null!==vb:'function'==typeof vb},s=function(vb){try{return!!vb()}catch(wb){return!0}},t=!s(function(){return 7!=Object.defineProperty({},'a',{get:function(){return 7}}).a}),u=p,v=h.document,w=u(v)&&u(v.createElement),y=function(vb){return w?v.createElement(vb):{}},z=!t&&!s(function(){return 7!=Object.defineProperty(y('div'),'a',{get:function(){return 7}}).a}),D=p,G=function(vb){if(!p(vb))throw TypeError(vb+' is not an object!');return vb},I=function(vb,wb){if(!D(vb))return vb;var xb,yb;if(wb&&'function'==typeof(xb=vb.toString)&&!D(yb=xb.call(vb)))return yb;if('function'==typeof(xb=vb.valueOf)&&!D(yb=xb.call(vb)))return yb;if(!wb&&'function'==typeof(xb=vb.toString)&&!D(yb=xb.call(vb)))return yb;throw TypeError('Can\'t convert object to primitive value')},J=Object.defineProperty,L=t?Object.defineProperty:function(wb,xb,yb){if(G(wb),xb=I(xb,!0),G(yb),z)try{return J(wb,xb,yb)}catch(zb){}if('get'in yb||'set'in yb)throw TypeError('Accessors not supported!');return'value'in yb&&(wb[xb]=yb.value),wb},M={f:L},R=function(vb,wb){return{enumerable:!(1&vb),configurable:!(2&vb),writable:!(4&vb),value:wb}},U=t?function(vb,wb,xb){return M.f(vb,wb,R(1,xb))}:function(vb,wb,xb){return vb[wb]=xb,vb},V=h,W=l,X=function(vb,wb,xb){return(n(vb),void 0===wb)?vb:1===xb?function(yb){return vb.call(wb,yb)}:2===xb?function(yb,zb){return vb.call(wb,yb,zb)}:3===xb?function(yb,zb,Ab){return vb.call(wb,yb,zb,Ab)}:function(){return vb.apply(wb,arguments)}},Z='prototype',$=function(vb,wb,xb){var Hb,Ib,Jb,yb=vb&$.F,zb=vb&$.G,Ab=vb&$.S,Bb=vb&$.P,Cb=vb&$.B,Db=vb&$.W,Eb=zb?W:W[wb]||(W[wb]={}),Fb=Eb[Z],Gb=zb?V:Ab?V[wb]:(V[wb]||{})[Z];for(Hb in zb&&(xb=wb),xb)Ib=!yb&&Gb&&void 0!==Gb[Hb],Ib&&Hb in Eb||(Jb=Ib?Gb[Hb]:xb[Hb],Eb[Hb]=zb&&'function'!=typeof Gb[Hb]?xb[Hb]:Cb&&Ib?X(Jb,V):Db&&Gb[Hb]==Jb?function(Pb){var Qb=function(Rb,Sb,Tb){if(this instanceof Pb){switch(arguments.length){case 0:return new Pb;case 1:return new Pb(Rb);case 2:return new Pb(Rb,Sb);}return new Pb(Rb,Sb,Tb)}return Pb.apply(this,arguments)};return Qb[Z]=Pb[Z],Qb}(Jb):Bb&&'function'==typeof Jb?X(Function.call,Jb):Jb,Bb&&((Eb.virtual||(Eb.virtual={}))[Hb]=Jb,vb&$.R&&Fb&&!Fb[Hb]&&U(Fb,Hb,Jb)))};$.F=1,$.G=2,$.S=4,$.P=8,$.B=16,$.W=32,$.U=64,$.R=128;var _=$,aa=_;aa(aa.S+aa.F*!t,'Object',{defineProperty:M.f});var ba=l.Object,ca=function(wb,xb,yb){return ba.defineProperty(wb,xb,yb)},da=g(function(vb){vb.exports={'default':ca,__esModule:!0}}),ea=g(function(vb,wb){'use strict';wb.__esModule=!0;var zb=function(Ab){return Ab&&Ab.__esModule?Ab:{default:Ab}}(da);wb.default=function(Ab,Bb,Cb){return Bb in Ab?(0,zb.default)(Ab,Bb,{value:Cb,enumerable:!0,configurable:!0,writable:!0}):Ab[Bb]=Cb,Ab}}),fa=d(ea),ga={}.hasOwnProperty,ia={}.toString,ka=function(vb){return ia.call(vb).slice(8,-1)},la=Object('z').propertyIsEnumerable(0)?Object:function(vb){return'String'==ka(vb)?vb.split(''):Object(vb)},ma=function(vb){if(vb==void 0)throw TypeError('Can\'t call method on  '+vb);return vb},pa=function(vb){return la(ma(vb))},qa=Math.ceil,ra=Math.floor,sa=function(vb){return isNaN(vb=+vb)?0:(0<vb?ra:qa)(vb)},ua=Math.min,xa=Math.max,ya=Math.min,Ba=function(vb){return 0<vb?ua(sa(vb),9007199254740991):0},Ca=function(vb,wb){return vb=sa(vb),0>vb?xa(vb+wb,0):ya(vb,wb)},Ea=h,Fa='__core-js_shared__',Ga=Ea[Fa]||(Ea[Fa]={}),Ia=0,Ja=Math.random(),La=function(vb){return Ga[vb]||(Ga[vb]={})}('keys'),Ma=function(vb){return'Symbol('.concat(vb===void 0?'':vb,')_',(++Ia+Ja).toString(36))},Oa=function(vb,wb){return ga.call(vb,wb)},Qa=function(vb){return function(wb,xb,yb){var Cb,zb=pa(wb),Ab=Ba(zb.length),Bb=Ca(yb,Ab);if(vb&&xb!=xb){for(;Ab>Bb;)if(Cb=zb[Bb++],Cb!=Cb)return!0;}else for(;Ab>Bb;Bb++)if((vb||Bb in zb)&&zb[Bb]===xb)return vb||Bb||0;return!vb&&-1}}(!1),Ra=function(vb){return La[vb]||(La[vb]=Ma(vb))}('IE_PROTO'),Ta='constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'.split(','),Ua=function(vb,wb){var Ab,xb=pa(vb),yb=0,zb=[];for(Ab in xb)Ab!=Ra&&Oa(xb,Ab)&&zb.push(Ab);for(;wb.length>yb;)Oa(xb,Ab=wb[yb++])&&(~Qa(zb,Ab)||zb.push(Ab));return zb},Wa=Object.keys||function(wb){return Ua(wb,Ta)},Xa=Object.getOwnPropertySymbols,Za={}.propertyIsEnumerable,bb=Wa,db={f:Xa},eb={f:Za},fb=function(vb){return Object(ma(vb))},hb=Object.assign,ib=!hb||s(function(){var vb={},wb={},xb=Symbol(),yb='abcdefghijklmnopqrst';return vb[xb]=7,yb.split('').forEach(function(zb){wb[zb]=zb}),7!=hb({},vb)[xb]||Object.keys(hb({},wb)).join('')!=yb})?function(wb){for(var yb=fb(wb),zb=arguments.length,Ab=1,Bb=db.f,Cb=eb.f;zb>Ab;)for(var Hb,Db=la(arguments[Ab++]),Eb=Bb?bb(Db).concat(Bb(Db)):bb(Db),Fb=Eb.length,Gb=0;Fb>Gb;)Cb.call(Db,Hb=Eb[Gb++])&&(yb[Hb]=Db[Hb]);return yb}:hb,jb=_;jb(jb.S+jb.F,'Object',{assign:ib});var kb=l.Object.assign,lb=g(function(vb){vb.exports={'default':kb,__esModule:!0}}),mb=d(lb),nb=g(function(vb,wb){'use strict';wb.__esModule=!0;var zb=function(Ab){return Ab&&Ab.__esModule?Ab:{default:Ab}}(lb);wb.default=zb.default||function(Ab){for(var Cb,Bb=1;Bb<arguments.length;Bb++)for(var Db in Cb=arguments[Bb],Cb)Object.prototype.hasOwnProperty.call(Cb,Db)&&(Ab[Db]=Cb[Db]);return Ab}}),ob=d(nb),pb=g(function(vb,wb){'use strict';wb.__esModule=!0,wb.default=function(xb,yb){if(!(xb instanceof yb))throw new TypeError('Cannot call a class as a function')}}),qb=d(pb),rb=g(function(vb,wb){'use strict';wb.__esModule=!0;var zb=function(Ab){return Ab&&Ab.__esModule?Ab:{default:Ab}}(da);wb.default=function(){function Ab(Bb,Cb){for(var Eb,Db=0;Db<Cb.length;Db++)Eb=Cb[Db],Eb.enumerable=Eb.enumerable||!1,Eb.configurable=!0,'value'in Eb&&(Eb.writable=!0),(0,zb.default)(Bb,Eb.key,Eb)}return function(Bb,Cb,Db){return Cb&&Ab(Bb.prototype,Cb),Db&&Ab(Bb,Db),Bb}}()}),sb=d(rb),tb={type:'slide',side:'left',transitionTimingFunction:'cubic-bezier(0.455, 0.03, 0.515, 0.955)',transitionDuration:'.2s'},ub=function(){function vb(){var wb=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,xb=1<arguments.length&&void 0!==arguments[1]?arguments[1]:tb;if(qb(this,vb),null===wb)throw new Error('Required element');this.wall=null,this.el=wb,this.opts=mb({},tb,xb),this.handleTransitionendForWall=this.createTransitionendHandlerForWall.bind(this),this.handleTransitionendForSidebar=this.createTransitionendHandlerForSidebar.bind(this),this.handleTransitionendForOther=this.createTransitionendHandlerForOther.bind(this),this.handleClose=this.close.bind(this),this.opened=!1}return sb(vb,[{key:'createTransitionendHandlerForWall',value:function(){mb(this.wall.style,{webkitBackfaceVisibility:'',backfaceVisibility:'',willChange:''})}},{key:'createTransitionendHandlerForOther',value:function(){'lid'===this.opts.type&&this.isOpen()&&mb(this.el.style,{zIndex:9999})}},{key:'createTransitionendHandlerForSidebar',value:function(){mb(this.el.style,{webkitBackfaceVisibility:'',backfaceVisibility:'',willChange:'',borderRadius:0,zIndex:9999})}},{key:'createWall',value:function(){this.wall=document.createElement('div'),mb(this.wall.style,ob({position:'fixed',top:0,left:0,width:'100%',height:'100%',backgroundColor:'rgba(0, 0, 0, .3)',opacity:0,zIndex:-9998},this.transitionDecls)),document.body.appendChild(this.wall),this.wall.addEventListener('click',this.handleClose),this.wall.addEventListener('transitionend',this.handleTransitionendForWall)}},{key:'init',value:function(){var xb=this;this.createWall(),'push'===this.opts.type?(mb(document.body.style,{webkitTransition:'.2s',transition:'.2s'}),document.body.addEventListener('transitionend',this.handleTransitionendForOther)):'lid'===this.opts.type&&this.siblings.forEach(function(zb){mb(zb.style,xb.transitionDecls),zb.addEventListener('transitionend',xb.handleTransitionendForOther)});var yb=[this.el.style];yb.push(fa({display:'',height:'100%',position:'fixed',zIndex:this.initZIndex,top:this.initYPosition+'px'},this.opts.side,this.initXPosition+'px')),'door'===this.opts.type?yb.push(ob({webkitTransformOrigin:this.opts.side+' top',transformOrigin:this.opts.side+' top'},this.postdoor)):('waterfall'===this.opts.type||'waterfallReverse'===this.opts.type)&&yb.push(this.postwaterfall),mb.apply(null,yb),this.el.addEventListener('transitionend',this.handleTransitionendForSidebar),setTimeout(function(){mb(xb.el.style,xb.transitionDecls)},0)}},{key:'isOpen',value:function(){return this.opened}},{key:'isSlideType',value:function(){return /^(?:slide|water)$/.test(this.opts.type)}},{key:'isWaterType',value:function(){return'water'===this.opts.type}},{key:'isDoorType',value:function(){return'door'===this.opts.type}},{key:'isWaterfallType',value:function(){return'waterfall'===this.opts.type}},{key:'isWaterfallReverseType',value:function(){return'waterfallReverse'===this.opts.type}},{key:'open',value:function(){var xb=this;mb(this.wall.style,{webkitBackfaceVisibility:'hidden',backfaceVisibility:'hidden',willChange:'opacity',zIndex:9998,opacity:1}),'push'===this.opts.type?mb(document.body.style,ob({},this.preslide)):'lid'===this.opts.type&&this.siblings.forEach(function(yb){mb(yb.style,ob({},xb.preslide))}),mb(this.el.style,ob({webkitBackfaceVisibility:'hidden',backfaceVisibility:'hidden',willChange:'transform, border-radius'},this.isSlideType()?this.preslide:{},this.isWaterType()?this.prewater:{},this.isDoorType()?this.predoor:{},this.isWaterfallType()?this.prewaterfall:{},this.isWaterfallReverseType()?this.prewaterfallReverse:{})),this.opened=!0}},{key:'close',value:function(){var xb=this;mb(this.wall.style,{webkitBackfaceVisibility:'hidden',backfaceVisibility:'hidden',willChange:'opacity',zIndex:-9998,opacity:0}),'push'===this.opts.type?mb(document.body.style,ob({},this.postslide)):'lid'===this.opts.type&&this.siblings.forEach(function(yb){mb(yb.style,ob({},xb.postslide))}),mb(this.el.style,ob({webkitBackfaceVisibility:'hidden',backfaceVisibility:'hidden',willChange:'transform, border-radius',zIndex:this.initZIndex},this.isSlideType()?this.postslide:{},this.isWaterType()?this.postwater:{},this.isDoorType()?this.postdoor:{},this.isWaterfallType()?this.postwaterfall:{},this.isWaterfallReverseType()?this.postwaterfall:{})),this.opened=!1}},{key:'teardown',value:function(){}},{key:'on',value:function(){}},{key:'initXPosition',get:function(){return /^(?:lid|door|waterfall|waterfallReverse)$/.test(this.opts.type)?0:-this.el.clientWidth}},{key:'initYPosition',get:function(){return'waterfall'===this.opts.type?-window.innerHeight:'waterfallReverse'===this.opts.type?window.innerHeight:0}},{key:'initZIndex',get:function(){return'lid'===this.opts.type?-9999:''}},{key:'transitionDecls',get:function(){return{wabkitTransitionTimingFunction:this.opts.transitionTimingFunction,transitionTimingFunction:this.opts.transitionTimingFunction,webkitTransitionDuration:this.opts.transitionDuration,transitionDuration:this.opts.transitionDuration}}},{key:'preslide',get:function(){var xb='left'===this.opts.side?this.el.clientWidth:-this.el.clientWidth;return{webkitTransform:'translate3d('+xb+'px, 0, 0)',transform:'translate3d('+xb+'px, 0, 0)',zIndex:9999}}},{key:'postslide',get:function(){return{webkitTransform:'translate3d(0, 0, 0)',transform:'translate3d(0, 0, 0)'}}},{key:'prewater',get:function(){return'left'===this.opts.side?{borderTopRightRadius:'40% 80%',borderBottomRightRadius:'40% 80%'}:{borderTopLeftRadius:'40% 80%',borderBottomLeftRadius:'40% 80%'}}},{key:'postwater',get:function(){return'left'===this.opts.side?{borderTopRightRadius:'0 80%',borderBottomRightRadius:'0 80%'}:{borderTopLeftRadius:'0 80%',borderBottomLeftRadius:'0 80%'}}},{key:'predoor',get:function(){return{webkitTransform:'rotateY(0deg)',transform:'rotateY(0deg)'}}},{key:'postdoor',get:function(){return{webkitTransform:'rotateY(90deg)',transform:'rotateY(90deg)'}}},{key:'prewaterfall',get:function(){return{borderBottomLeftRadius:'80% 40%',borderBottomRightRadius:'80% 40%',webkitTransform:'translate3d(0, 100%, 0)',transform:'rotateY(0, 100%, 0)'}}},{key:'prewaterfallReverse',get:function(){return{borderTopLeftRadius:'80% 40%',borderTopRightRadius:'80% 40%',webkitTransform:'translate3d(0, -100%, 0)',transform:'rotateY(0, 100%, 0)'}}},{key:'postwaterfall',get:function(){return{webkitTransform:'translate3d(0, 0, 0)',transform:'rotateY(0, 0, 0)'}}},{key:'siblings',get:function(){var xb=Array.prototype.slice.call(this.el.parentElement.children).filter(function(yb){return null!==yb.getAttribute('data-apoc-sidebar-sibling')});if(0===xb.length)throw new Error('\nIn \'push\' or \'lid\' type,\nRequired [data-apoc-sidebar-sibling] attr to sibling elements');return xb}}]),vb}();return ub}();
